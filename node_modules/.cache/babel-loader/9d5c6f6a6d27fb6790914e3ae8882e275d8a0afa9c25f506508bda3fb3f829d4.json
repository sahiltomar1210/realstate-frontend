{"ast":null,"code":"var _jsxFileName = \"/Users/sahiltomar/Desktop/Project-Dec2022/realstate-frontend/src/pages/Dashboard/dashboard.js\",\n  _s = $RefreshSig$();\nimport \"./dashboard.css\";\nimport React from \"react\";\nimport SideBar from \"../../components/Sidebar/sidebar\";\nimport Header from \"../../components/Header/header\";\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Table from \"../../components/Table/Table\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const navigate = useNavigate();\n  const token = window.localStorage.getItem(\"token\");\n  const [username, setUsername] = useState('');\n  useEffect(() => {\n    setUsername(window.localStorage.getItem(\"username\"));\n  }, []);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [search, setSearch] = useState('');\n  const [data, setData] = useState([]);\n  const handleSearch = event => {\n    setSearch(event.target.value);\n    Search();\n  };\n  const checkUserToken = () => {\n    const userToken = localStorage.getItem('token');\n    if (!userToken || userToken === 'undefined' || userToken === '') {\n      setIsLoggedIn(false);\n      return navigate('/');\n    }\n    setIsLoggedIn(true);\n  };\n  useEffect(() => {\n    checkUserToken();\n  }, [isLoggedIn]);\n  useEffect(() => {\n    Search();\n  }, [search]);\n  function Search() {\n    const ppdid = search;\n    const fetchdata = () => {\n      fetch(\"https://realestate-backend-z5ps.onrender.com/property/property/search\", {\n        method: \"POST\",\n        crossDomain: true,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Authorization\": `random ${token}`\n        },\n        body: JSON.stringify({\n          ppdid\n        })\n      }).then(res => res.json()).then(data => {\n        console.log(data, \"userRegister\");\n        if (data.status === \"Success\") {\n          console.log(data.details);\n          setData(data.details);\n        } else if (data.status === \"Failed\") {\n          console.log(`${data.message}`);\n          setData('');\n        } else {\n          alert(`${data.errors[0].param}  ${data.errors[0].msg}`);\n        }\n      });\n    };\n    fetchdata();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"location-main-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"location-submain-left\",\n      children: /*#__PURE__*/_jsxDEV(SideBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"location-submain-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"submain-right-top\",\n        children: /*#__PURE__*/_jsxDEV(Header, {\n          username: username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"submain-main-line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"submain-right-bottom\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-main-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"search-left\",\n            type: \"text\",\n            value: search,\n            onChange: handleSearch,\n            placeholder: \"Search PPD ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"search-right\",\n            onClick: () => navigate(\"/Basic\"),\n            children: \" + Add Property \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"right-bottom-table\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            data: data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 7\n  }, this);\n}\n_s(Dashboard, \"bv9o80z/yqxeBaNOI1YUj3UH9as=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","SideBar","Header","useState","useEffect","useNavigate","Table","Dashboard","navigate","token","window","localStorage","getItem","username","setUsername","isLoggedIn","setIsLoggedIn","search","setSearch","data","setData","handleSearch","event","target","value","Search","checkUserToken","userToken","ppdid","fetchdata","fetch","method","crossDomain","headers","body","JSON","stringify","then","res","json","console","log","status","details","message","alert","errors","param","msg"],"sources":["/Users/sahiltomar/Desktop/Project-Dec2022/realstate-frontend/src/pages/Dashboard/dashboard.js"],"sourcesContent":["import \"./dashboard.css\";\nimport React from \"react\";\nimport SideBar from \"../../components/Sidebar/sidebar\";\nimport Header from \"../../components/Header/header\";\nimport { useState,useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Table from \"../../components/Table/Table\";\n\nfunction Dashboard() {\n  const navigate = useNavigate();\n  const token = window.localStorage.getItem(\"token\");\n    const [username, setUsername] = useState('');\n    useEffect(()=>{\n      setUsername(window.localStorage.getItem(\"username\"));\n    },[]);\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [search, setSearch] = useState('');\n    const [data,setData]= useState([]); \n    const handleSearch = (event) => {\n        setSearch(event.target.value);\n        Search();\n    };\n\n    \n    const checkUserToken = () => {\n        const userToken = localStorage.getItem('token');\n\n        if (!userToken || userToken === 'undefined'|| userToken === '') {\n            setIsLoggedIn(false);\n            return navigate('/');\n        }\n        setIsLoggedIn(true);\n    }\n\n    useEffect(() => {\n            checkUserToken();\n        }, [isLoggedIn]);\n        useEffect(() => {\n          Search();\n      }, [search]); \n        function Search(){\n        const ppdid =search\n          const fetchdata = () => {\n              fetch(\"https://realestate-backend-z5ps.onrender.com/property/property/search\", {\n                  method: \"POST\",\n                  crossDomain: true,\n                  headers: {\n                      \"Content-Type\": \"application/json\",\n                      \"Accept\": \"application/json\",\n                      \"Access-Control-Allow-Origin\": \"*\",\n                      \"Authorization\":`random ${token}`\n                  },body: JSON.stringify({\n                    ppdid\n                }),\n              })\n                  .then((res) => res.json())\n                  .then((data) => {\n                      console.log(data, \"userRegister\");\n                      if (data.status === \"Success\") {\n                        console.log(data.details);\n                        setData(data.details)\n                        }\n                        else if(data.status === \"Failed\") {\n                         console.log(`${data.message}`)\n                         setData('')\n                        }\n                        else{\n                          alert(`${data.errors[0].param}  ${data.errors[0].msg}`)\n                        }\n                  });\n      \n              };\n             fetchdata();\n          } \n          \n    return (\n      <div className='location-main-container'>\n            <div className='location-submain-left'>\n              <SideBar/>\n            </div>\n            <div className='location-submain-right'>\n                <div className='submain-right-top'>\n                   <Header username={username}/>\n                </div>\n                <div className='submain-main-line'>\n                </div>\n                <div className='submain-right-bottom'>\n                  <div className=\"search-main-container\">\n                  <input className=\"search-left\" type=\"text\" value={search} onChange={handleSearch} placeholder=\"Search PPD ID\"></input>\n                  <button className=\"search-right\" onClick={() => navigate(\"/Basic\")}> + Add Property </button>\n                  </div>\n                  <div className=\"right-bottom-table\">\n                     <Table data={data} />\n                   </div>\n                </div>\n            </div>\n        </div>\n    );\n\n}\n\nexport default Dashboard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}