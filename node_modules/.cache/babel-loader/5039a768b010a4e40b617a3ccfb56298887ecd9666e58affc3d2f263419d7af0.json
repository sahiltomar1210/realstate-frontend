{"ast":null,"code":"var _jsxFileName = \"/Users/sahiltomar/Desktop/Project-Dec2022/realstate-frontend/src/components/login/login.jsx\",\n  _s = $RefreshSig$();\nimport './Login.css';\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = props => {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n  const [authenticated, setauthenticated] = useState(false);\n  const token = window.localStorage.getItem(\"token\");\n  const handleSubmit = e => {\n    e.preventDefault();\n    fetch(\"https://real-estate-backend-1-g4ji.onrender.com/users/login\", {\n      method: \"POST\",\n      crossDomain: true,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(res => res.json()).then(data => {\n      console.log(data, \"userRegister\");\n      if (data.status === \"Success\") {\n        window.localStorage.setItem(\"authenticated\", true);\n        window.localStorage.setItem(\"token\", data.token);\n        window.localStorage.setItem(\"username\", data.user.username);\n        window.localStorage.setItem(\"userid\", data.user.userid);\n        setauthenticated(true);\n        navigate(\"/Dashboard\");\n      }\n      if (data.status === \"Failed\" && data.message === \"User Not Registered\") {\n        alert(\"Please Sign Up First\");\n      } else if (data.status === \"Failed\") {\n        alert(`${data.message}`);\n      } else {\n        alert(`${data.errors[0].param}  ${data.errors[0].msg}`);\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Enter your credentials to access your account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login-form\",\n        onSubmit: handleSubmit,\n        autoComplete: \"off\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"sign-label\",\n          htmlFor: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"sign-input\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          type: \"email\",\n          placeholder: \"User ID\",\n          id: \"email\",\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"sign-label\",\n          htmlFor: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"sign-input\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          type: \"password\",\n          placeholder: \"Password\",\n          id: \"password\",\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"login-button\",\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"link-btn\",\n          onClick: () => navigate(\"/SignUp\"),\n          children: \"Don't have an account? Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"6vDpNgmtToOtngIUYT3W2ptWbiI=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","Login","props","email","setEmail","password","setPassword","navigate","authenticated","setauthenticated","token","window","localStorage","getItem","handleSubmit","e","preventDefault","fetch","method","crossDomain","headers","body","JSON","stringify","then","res","json","data","console","log","status","setItem","user","username","userid","message","alert","errors","param","msg","target","value"],"sources":["/Users/sahiltomar/Desktop/Project-Dec2022/realstate-frontend/src/components/login/login.jsx"],"sourcesContent":["import './Login.css';\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport const Login = (props) => {\n    const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n  const [authenticated, setauthenticated] = useState(false);\n  const token = window.localStorage.getItem(\"token\");\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        fetch(\"https://real-estate-backend-1-g4ji.onrender.com/users/login\", {\n            method: \"POST\",\n            crossDomain: true,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n            },\n            body: JSON.stringify({\n                email,\n                password,\n            }),\n        })\n            .then((res) => res.json())\n            .then((data) => {\n                console.log(data, \"userRegister\");\n                if (data.status === \"Success\") {\n                    window.localStorage.setItem(\"authenticated\", true);\n                    window.localStorage.setItem(\"token\", data.token);\n                    window.localStorage.setItem(\"username\",data.user.username)\n                    window.localStorage.setItem(\"userid\",data.user.userid)\n                    setauthenticated(true)\n                    navigate(\"/Dashboard\");\n                  }\n                  if(data.status === \"Failed\" && data.message ===\"User Not Registered\"){\n                    alert(\"Please Sign Up First\")\n                  }\n                  else if(data.status === \"Failed\") {\n                   alert(`${data.message}`)\n                  }\n                  else{\n                    alert(`${data.errors[0].param}  ${data.errors[0].msg}`)\n                  }\n            });\n\n    };\n    return (\n        <div className=\"main\">\n        <div className=\"auth-form-container\">\n            <h2>Logo</h2>\n            <p>Enter your credentials to access your account</p>\n            <form className=\"login-form\" onSubmit={handleSubmit} autoComplete='off'>\n                <label className='sign-label' htmlFor=\"email\"></label>\n                <input className='sign-input' value={email} onChange={(e) => setEmail(e.target.value)} type=\"email\" placeholder=\"User ID\" id=\"email\" name=\"email\" />\n                <label className='sign-label' htmlFor=\"password\"></label>\n                <input  className='sign-input' value={password} onChange={(e) => setPassword(e.target.value)} type=\"password\" placeholder=\"Password\" id=\"password\" name=\"password\" />\n                <button className='login-button'>Log In</button>\n                <button className=\"link-btn\" onClick={()=>navigate(\"/SignUp\")}>Don't have an account? Register</button>\n            </form>    \n        </div>\n        </div>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}